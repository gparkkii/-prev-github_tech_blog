---
title: 'Webpackìœ¼ë¡œ React.js ê°œë°œí™˜ê²½ buildí•˜ê¸° - 1. í”„ë¡œì íŠ¸ ì‹œìž‘í•˜ê¸°'
date: 2021-5-23 16:21:13
category: 'react'
draft: false
---

## âœðŸ» Why Webpack?

### ðŸ‘‰ I love CRA

ë³´í†µ ë¦¬ì•¡íŠ¸ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ë§Œë“¤ ë•Œ CRA (create-react-app)ë¼ëŠ” ìž˜ ë§Œë“¤ì–´ì§„ ë¦¬ì•¡íŠ¸ boilerplateë¥¼ ì •ì„ì²˜ëŸ¼ ì“°ê³¤í•©ë‹ˆë‹¤.

ì €ë„ ì§ì ‘ ë¦¬ì•¡íŠ¸ ê°œë°œí™˜ê²½ì„ buildí•˜ë©° ìˆ˜ë§Žì€ ì—ëŸ¬ë¥¼ ê²ªê³  ìœ ì§€ë³´ìˆ˜ì— íž˜ì„ ìŸëŠ” ëŒ€ì‹  CRAë¡œ ë§Žì€ ì‚¬ì´ë“œ í”„ë¡œì íŠ¸ë“¤ì„ ì§„í–‰í•´ì™”ìŠµë‹ˆë‹¤.

> #### ðŸ’¡ Create-React-App ì´ëž€?
>
> CRAëŠ” íŽ˜ì´ìŠ¤ë¶ì—ì„œ ë§Œë“  ê³µì‹ì ì¸ React ì›¹ ê°œë°œìš© Boilerplateìž…ë‹ˆë‹¤. webpackê³¼ babelë“±ì„ ì´ìš©í•˜ì—¬ file loader, build tools, es6 ë¬¸ë²• ì§€ì›, eslint, jest(í…ŒìŠ¤íŠ¸) ë“± ê°œë°œì— í•„ìš”í•œ ìœ ìš©í•œ ê¸°ëŠ¥ë“¤ì„ npx create-react-app ì´ë¼ëŠ” ëª…ë ¹ì–´ í•œ ì¤„ë¡œ ë‹¤ ì œê³µí•˜ê¸° ë•Œë¬¸ì— ë”°ë¡œ ë¦¬ì•¡íŠ¸ ê°œë°œí™˜ê²½ì„ êµ¬ì¶•í•˜ê±°ë‚˜ ì„¤ê³„í•  í•„ìš”ê°€ ì—†ì–´ ë§Žì€ ê°œë°œìžë“¤ì´ ì• ìš©í•˜ê³  ìžˆìŠµë‹ˆë‹¤.

### ðŸ‘‰ CRAë¥¼ ë†”ë‘ê³  ì›¹íŒ©ì„ ì‚¬ìš©í•˜ëŠ” ì´ìœ 

ê°œë°œí•´ì•¼í•˜ëŠ” ì„œë¹„ìŠ¤ì˜ ê·œëª¨ê°€ ì»¤ì§€ê±°ë‚˜ ì»´í¬ë„ŒíŠ¸ë“¤ì˜ ì–‘ì´ ë§Žì•„ì§ˆìˆ˜ë¡ ë¦¬ì•¡íŠ¸ ê°œë°œí™˜ê²½ì— ì¶”ê°€ì ì¸ ì„¤ì •ì„ í•´ì•¼ë˜ëŠ” ê²½ìš°ê°€ ìƒê¹ë‹ˆë‹¤. ì´ ë•Œ ë¦¬ì•¡íŠ¸ì˜ êµ¬ì¡°ë‚˜ webpack, babelì— ëŒ€í•œ ì´í•´ë„ê°€ ë–¨ì–´ì§€ë©´ ë”°ë¡œ ì„¤ì •ì„ ì¶”ê°€í•  ë•Œ ë§Žì€ ì—ëŸ¬ë“¤ê³¼ ë§žë‹¥ëœ¨ë¦¬ë©° ë©˜ë¶•ìƒíƒœë¥¼ ê²ªê²Œ ë©ë‹ˆë‹¤.

CRAì—ì„œ 'eject'ë¼ëŠ” ê¸°ëŠ¥ì„ í†µí•´ ë”°ë¡œ ì›¹íŒ© ì„¤ì •ì„ í•  ìˆ˜ ìžˆë„ë¡ ë„ì™€ì£¼ì§€ë§Œ 'eject'ë¥¼ ìˆ˜í–‰í•˜ê³  ë‚˜ë©´ ë‹¤ì‹œ ì˜ˆì „ìƒíƒœë¡œ ë˜ëŒë¦´ ìˆ˜ ì—†ê³  ëª¨ë“  ì„¤ì •ì„ ì§ì ‘ ìœ ì§€ë³´ìˆ˜í•˜ê²Œ ë˜ë©´ì„œ CRAì˜ ìž¥ì ì¸ one Build Dependencyë¥¼ ìžƒì–´ë²„ë¦¬ê²Œ ë©ë‹ˆë‹¤.

ë˜ CRAë§Œì„ ê³ ì§‘í•˜ë‹¤ë³´ë‹ˆ ì• í”Œë¦¬ì¼€ì´ì…˜ ê°œë°œì€ ì‰½ê²Œ í• ì§€ì–¸ì • ë¦¬ì•¡íŠ¸ì˜ êµ¬ì¡°ë‚˜ ì„¤ì •íŒŒì¼ì— ëŒ€í•œ ì´í•´ë„ê°€ ë¶€ì¡±í•˜ë‹¤ê³  ëŠê»´ì¡ŒìŠµë‹ˆë‹¤.

ë•Œë¬¸ì— ì´ë²ˆì—” ì• ì •í•˜ëŠ” react applicationì„ ì§ì ‘ webpackìœ¼ë¡œ build í•´ë³´ê¸°ë¡œ í–ˆìŠµë‹ˆë‹¤.

---

## ðŸ¤” How? ì–´ë–»ê²Œ êµ¬í˜„í• ê¹Œ?

ë¦¬ì•¡íŠ¸ë¥¼ ì²˜ìŒ ë°°ìš¸ ë‹¹ì‹œ ì •ë§ ì–•ê²Œ webpackìœ¼ë¡œ ë¦¬ì•¡íŠ¸ ê°œë°œí™˜ê²½ì„ êµ¬ì¶•í•´ë³¸ ê²½í—˜ì´ ìžˆì—ˆìŠµë‹ˆë‹¤.

ê°œë°œí™˜ê²½ êµ¬ì¶•ì€ ì •ë§ ìž‘ì€ ì—ëŸ¬ í•˜ë‚˜ì—ë„ ìž˜ ì–´ê·¸ëŸ¬ì§€ê¸° ë•Œë¬¸ì— ê¸´ìž¥ì˜ ëˆì„ ë†“ì¹˜ì§€ì•Šê³  ì—ëŸ¬ì—†ì´ ë²„ê·¸ì—†ì´ ê°œë°œí•´ë³´ìžëŠ” ë§ˆìŒìœ¼ë¡œ ì›¹íŒ© ì„¤ì •ì„ ì‹œìž‘í•´ë³´ì•˜ìŠµë‹ˆë‹¤.

ìžì„¸í•œ ì½”ë“œëŠ” [**ðŸ”—react_webpack_template ê¹ƒí—ˆë¸Œ**](https://github.com/gparkkii/react_webpack_template) ì—ì„œ í™•ì¸ ê°€ëŠ¥í•©ë‹ˆë‹¤.

#### âœ… react_webpack_template build ìˆœì„œ

1ï¸âƒ£ npm initìœ¼ë¡œ í”„ë¡œì íŠ¸ ìƒì„±
2ï¸âƒ£ ê¸°ë³¸ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì„¤ì¹˜
3ï¸âƒ£ webpack config ì„¤ì •
4ï¸âƒ£ ê¸°íƒ€ ìžì£¼ ì‚¬ìš©í•˜ëŠ” ì„¤ì • ë° ë¼ì´ë¸ŒëŸ¬ë¦¬ ì¶”ê°€í•˜ê¸° (eslint, prettier, react-router-dom ...)

---

### ðŸ“ 1. í”„ë¡œì íŠ¸ ìƒì„±

ìš°ì„  node íŒ¨í‚¤ì§€ ë§¤ë‹ˆì €ë¥¼ í†µí•´ íŒ¨í‚¤ì§€ íŒŒì¼ì„ ìƒì„±í•©ë‹ˆë‹¤.

```javascript
$ npm init
```

npm initì„ í„°ë¯¸ë„ì— ìž…ë ¥í•˜ë©´ ì•„ëž˜ì˜ í•­ëª©ì„ ìž…ë ¥ë°›ëŠ” ì°½ì´ ëœ¨ëŠ”ë°, ìž…ë ¥í•˜ì§€ ì•Šì•„ë„ ì‹¤í–‰ì— ë¬¸ì œëŠ” ì—†ì§€ë§Œ ì €ëŠ” ê¼¼ê¼¼ížˆ ì ì–´ì£¼ë„ë¡ í•˜ê² ìŠµë‹ˆë‹¤.

```javascript
name: í”„ë¡œì íŠ¸ ì´ë¦„ (ê¸°ë³¸ì„¤ì • : í˜„ìž¬ í´ë”ëª…)
version: í˜„ìž¬ ë²„ì „ (ê¸°ë³¸ì„¤ì • : 1.0.0)
description: í”„ë¡œì íŠ¸ ì„¤ëª…
entry point: í”„ë¡œê·¸ëž¨ ì‹¤í–‰ íŒŒì¼ (ê¸°ë³¸ì„¤ì • : index.js)
test command: í…ŒìŠ¤íŠ¸ë¥¼ í•˜ê¸° ìœ„í•œ ëª…ë ¹ì–´
git repository: gitì €ìž¥ì†Œ
keywords: í”„ë¡œì íŠ¸ í‚¤ì›Œë“œ
author: í”„ë¡œì íŠ¸ ì œìž‘ìž
license: license (ê¸°ë³¸ ì„¤ì • : ISC)
```

![](https://images.velog.io/images/gparkkii/post/586ed9e3-9689-4258-b70a-def18bd32384/code.png)

#### ðŸ”Ž dependencies

- í”„ë¡œì íŠ¸ ìƒì„± í›„ `$ npm install ___`ë¡œ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì„¤ì¹˜í•˜ë©´ `dependencies`ì— ë²„ì „ê³¼ í•¨ê»˜ ì„¤ì¹˜ë©ë‹ˆë‹¤.

#### ðŸ”Ž devDependencies

- ê°œë°œí•  ë•Œì—ë§Œ ì“°ì´ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬ëŠ” `$ npm install -D ___` ëª…ë ¹ì–´ë¡œ ë‹¤ìš´ë°›ì•„ `devDependencies`ì— ë³´ê´€í•´ì¤ë‹ˆë‹¤.
- `devDependencies`ì— ë³´ê´€ëœ ë¼ì´ë¸ŒëŸ¬ë¦¬ëŠ” ê°œë°œëª¨ë“œ (development mode)ì¼ ë•Œë§Œ ì‚¬ìš©ë˜ë¯€ë¡œ íŠ¸ëžœìŠ¤íŒŒì¼ëŸ¬, ì»´íŒŒì¼ëŸ¬ ë“±ì˜ ë¼ì´ë¸ŒëŸ¬ë¦¬ë“¤ì„ ë³´ê´€í•´ì£¼ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤.

#### ðŸ”Ž scripts

- `$ npm run ___`ë¡œ ì‹¤í–‰í•˜ê²Œ ë  ìŠ¤í¬ë¦½íŠ¸ë¥¼ ìž‘ì„±í•´ì¤ë‹ˆë‹¤.
- ì›¹íŒ©ì„ í†µí•´ ì‹¤í–‰ë  ìŠ¤í¬ë¦½íŠ¸ë“¤ì„ ì ì–´ì£¼ë©´ë©ë‹ˆë‹¤.

#### ðŸ”Ž package-lock.json

- `package-lock.json` íŒŒì¼ì€ npmìœ¼ë¡œ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì„¤ì¹˜ì‹œ ìžë™ìœ¼ë¡œ ìƒì„±ë©ë‹ˆë‹¤.
- ì˜ì¡´ì„±ì— ëŒ€í•œ ì •ë³´ë¥¼ ê°€ì§€ê³  ìžˆì–´ ì‚­ì œí•˜ë©´ ì•ˆë˜ëŠ” íŒŒì¼ë¡œ ê¹ƒí—ˆë¸Œì— ê°™ì´ ì»¤ë°‹í•´ì•¼ í•©ë‹ˆë‹¤.

---

### ðŸ“ 2. ë¼ì´ë¸ŒëŸ¬ë¦¬ ì„¤ì¹˜í•˜ê¸°

#### \*ï¸âƒ£ React Libraries

ë¨¼ì € ë¦¬ì•¡íŠ¸ì— í•„ìš”í•œ ë¼ì´ë¸ŒëŸ¬ë¦¬ë“¤ì„ ë‹¤ìš´ë°›ìŠµë‹ˆë‹¤.

```javascript
$ npm install --save react react-dom
```

- `react` ,`react-dom` : ë¦¬ì•¡íŠ¸ë¥¼ ì‚¬ìš©í•˜ê¸° ìœ„í•´ í•„ìˆ˜ì ìœ¼ë¡œ ë‹¤ìš´ë°›ì•„ì•¼í•˜ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬ìž…ë‹ˆë‹¤. `react-dom`ì€ ë¦¬ì•¡íŠ¸ì˜ DOMë° renderì˜ ì§„ìž…ì  ì—­í• ì„ í•©ë‹ˆë‹¤.

#### \*ï¸âƒ£ Babel Libraries

#### ðŸ”Ž ë°”ë²¨(Babel)ì´ëž€?

ë°”ë²¨ì€ ìžë°”ìŠ¤í¬ë¦½íŠ¸ íŠ¸ëžœìŠ¤íŒŒì¼ëŸ¬ë¡œ ìµœì‹  ìžë°”ìŠ¤í¬ë¦½íŠ¸ ë¬¸ë²•ì„ êµ¬í˜• ë¸Œë¼ìš°ì €ì—ì„œë„ ëŒ ìˆ˜ ìžˆë„ë¡ ì½”ë“œ ìžì²´ë¥¼ ë³€í™˜ì‹œì¼œì¤ë‹ˆë‹¤.

ë°”ë²¨ ì„¤ì •ì„ ìœ„í•œ ë¼ì´ë¸ŒëŸ¬ë¦¬ë“¤ì„ ë‹¤ìš´ë°›ìŠµë‹ˆë‹¤.

```javascript
$ npm install --save @babel/core @babel/preset-env @babel/preset-react babel-loader
```

- `@babel/core` : Babelì˜ í•µì‹¬ ì˜ì¡´ì„± ë¼ì´ë¸ŒëŸ¬ë¦¬ìž…ë‹ˆë‹¤.
- `@babel/preset-env` : â€ŠES ë²„ì „ì„ ì§€ì •í•˜ì§€ ì•Šì•„ë„ ë°”ë²¨ì´ ìžë™ìœ¼ë¡œ íƒì§€í•´ ì»´íŒŒì¼ í•´ì¤ë‹ˆë‹¤.
- `@babel/preset-react` : ë°”ë²¨ì„ ë¦¬ì•¡íŠ¸ì—ì„œ ì‚¬ìš© ê°€ëŠ¥í•˜ê²Œí•©ë‹ˆë‹¤. JSXë¡œ ìž‘ì„±ëœ ì½”ë“œë¥¼ createElement í•¨ìˆ˜ë¥¼ ì´ìš©í•œ ì½”ë“œë¡œ ë³€í™˜ì‹œì¼œì£¼ëŠ” presetìž…ë‹ˆë‹¤.
- `babel-loader` : babelê³¼ webpackì„ ì‚¬ìš©í•´ ìžë°”ìŠ¤í¬ë¦½íŠ¸ íŒŒì¼ì„ ì»´íŒŒì¼ í•˜ëŠ”ê²ƒìœ¼ë¡œ ì›¹íŒ©ì—ì„œ ë°”ë²¨ì„ ë¡œë“œí•  ë•Œ ì´ ë¡œë”ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.

#### \*ï¸âƒ£ Webpack Libraries

#### ðŸ”Ž ì›¹íŒ©(Webpack)ì´ëž€?

ì›¹íŒ©ì´ëž€ ìµœì‹  í”„ë¡ íŠ¸ì—”ë“œ í”„ë ˆìž„ì›Œí¬ì—ì„œ ê°€ìž¥ ë§Žì´ ì‚¬ìš©ë˜ëŠ” ëª¨ë“ˆ ë²ˆë“¤ëŸ¬(Module Bundler)ìž…ë‹ˆë‹¤. ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ êµ¬ì„±í•˜ëŠ” ìžì›(HTML, CSS, Javscript, Images ë“±)ì„ ëª¨ë“ˆë¡œ ë²ˆë“¤ë§í•´ì„œ í•˜ë‚˜ì˜ ê²°ê³¼ë¬¼ë¡œ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤.

![](https://images.velog.io/images/gparkkii/post/6decc309-3cd0-44a1-87c2-5e88f4ebcc4e/webpack.png)

ì›¹íŒ© ì„¤ì •ì„ ìœ„í•œ ë¼ì´ë¸ŒëŸ¬ë¦¬ë“¤ì„ ë‹¤ìš´ë°›ìŠµë‹ˆë‹¤.

```javascript
$ npm install --save webpack webpack-cli webpack-dev-server html-webpack-plugin @pmmmwh/react-refresh-webpack-plugin webpack-bundle-analyzer
```

- `webpack` : ì›¹íŒ© ëª¨ë“ˆ ë²ˆë“¤ëŸ¬ ë¼ì´ë¸ŒëŸ¬ë¦¬
- `webpack-cli` : Webpack v4.0.1 ì´ìƒì—ì„œ í•„ìš”í•œ ì»¤ë§¨ë“œë¼ì¸ ì¸í„°íŽ˜ì´ìŠ¤ìž…ë‹ˆë‹¤.
- `webpack-dev-server` : ì• í”Œë¦¬ì¼€ì´ì…˜ ê°œë°œ ì„œë²„ë¥¼ ì œì†¡í•´ì¤ë‹ˆë‹¤.
- `webpack-bundle-analyzer` : ë²ˆë“¤ì˜ êµ¬ì„±ì‚¬í•­ì„ í•œë²ˆì— ë³¼ ìˆ˜ ìžˆëŠ” ë„êµ¬ìž…ë‹ˆë‹¤. ì–´ë–¤ êµ¬ì„±ì´ bundle í¬ê¸°ë¥¼ ì–¼ë§ˆë‚˜ ì°¨ì§€í•˜ëŠ”ì§€ í•œ ëˆˆì— í™•ì¸í•  ìˆ˜ ìžˆê¸° ë•Œë¬¸ì— ì´ë¥¼ í†µí•´ Webpack ì„¤ì •ì„ ìˆ˜ì •í•˜ê±°ë‚˜ ë¼ì´ë¸ŒëŸ¬ë¦¬ êµì²´ë“±ì„ ê³ ë ¤í•´ë³¼ ìˆ˜ ìžˆìŠµë‹ˆë‹¤.
- `html-webpack-plugin` : ë²ˆë“¤ë§ëœ íŒŒì¼ì„ ì°¸ì¡°í•˜ëŠ” HTMLì„ ë¹Œë“œ ê³¼ì •ì—ì„œ í•¨ê»˜ ìƒì„±í•©ë‹ˆë‹¤.
- `MiniCssExtractPlugin`: CSSíŒŒì¼ì„ ì²­í‚¹í•˜ì—¬ ì˜µì…˜ìœ¼ë¡œ ì§€ì •í•œ ë””ë ‰í† ë¦¬ì— ìƒì„±í•©ë‹ˆë‹¤.
- `clean-webpack-plugin` : ë²ˆë“¤ë§ì„ í•  ë•Œë§ˆë‹¤ ì´ì „ ë²ˆë“¤ë§ ê²°ê³¼ë¥¼ ì œê±°
- `ManifestPlugin`: ë¹Œë“œëœ ë²ˆë“¤ë§ ê²°ê³¼ë¬¼ì— ëŒ€í•œ ì •ë³´ë¥¼ manifest.jsoníŒŒì¼ë¡œ ì €ìž¥í•˜ì—¬ ê´€ë¦¬í•©ë‹ˆë‹¤. ë²ˆë“¤ë§í•  ë•Œë§ˆë‹¤ ë²ˆë“¤ íŒŒì¼ì˜ ì´ë¦„ì´ ë°”ë€ŒëŠ” ê²½ìš° ì°¸ì¡°ì— ë¬¸ì œê°€ ìƒê¸¸ ìˆ˜ ìžˆëŠ”ë° ì´ë¥¼ í•´ê²°í•©ë‹ˆë‹¤.
- `@pmmmwh/react-refresh-webpack-plugin` : ì½”ë“œë¥¼ ìˆ˜ì •í•  ê²½ìš° ìƒˆë¡œê³ ì¹¨ í•˜ì§€ì•Šê³ , ìˆ˜ì •ëœ ì‚¬í•­ì„ ë¹ ë¥´ê²Œ
  êµì²´í•´ì£¼ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬ìž…ë‹ˆë‹¤.

---

> ì°¸ê³ 

- https://egg-programmer.tistory.com/259?category=915627
- https://p-iknow.netlify.app/front-end/react-webpack-config
